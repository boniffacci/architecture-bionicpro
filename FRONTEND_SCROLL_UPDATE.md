# Обновление фронтенда: автоматическая прокрутка к блокам результатов

## Описание изменений

Добавлена автоматическая прокрутка к блокам результатов при нажатии кнопок "Посмотреть JWT", "Отчёт (default)" и "Отчёт (debezium)".

## Что изменилось

### 1. Автоматическая прокрутка
При нажатии на любую из кнопок:
- **"Посмотреть JWT"** - страница автоматически прокручивается к блоку с JWT
- **"Отчёт (default)"** - страница автоматически прокручивается к блоку с отчётом
- **"Отчёт (debezium)"** - страница автоматически прокручивается к блоку с отчётом

Прокрутка выполняется так, чтобы **нижний край блока совпадал с нижним краем экрана**.

### 2. Ограничение высоты блоков
Блоки результатов теперь имеют:
- **Максимальную высоту**: 800 пикселей
- **Полосу прокрутки**: если содержимое больше 800px, появляется вертикальная полоса прокрутки
- **Рамку**: для визуального выделения блока

### 3. Плавная анимация
- Прокрутка выполняется плавно (`behavior: 'smooth'`)
- Небольшая задержка (100ms) для завершения рендеринга перед прокруткой

## Технические детали

### Изменения в `bionicpro_frontend/src/App.tsx`

#### 1. Добавлен импорт `useRef`
```typescript
import { useEffect, useState, useRef } from 'react'
```

#### 2. Добавлены refs для блоков
```typescript
const jwtBlockRef = useRef<HTMLDivElement>(null)
const reportBlockRef = useRef<HTMLDivElement>(null)
```

#### 3. Добавлен useEffect для автоматической прокрутки
```typescript
useEffect(() => {
  if (activeSection === 'jwt' && jwtBlockRef.current) {
    setTimeout(() => {
      jwtBlockRef.current?.scrollIntoView({ behavior: 'smooth', block: 'end' })
    }, 100)
  } else if ((activeSection === 'report-default' || activeSection === 'report-debezium') && reportBlockRef.current) {
    setTimeout(() => {
      reportBlockRef.current?.scrollIntoView({ behavior: 'smooth', block: 'end' })
    }, 100)
  }
}, [activeSection, jwtResponse, reportResponse])
```

#### 4. Обновлены стили блоков результатов
```typescript
// Блок JWT
<div ref={jwtBlockRef} className="mt-4 max-h-[800px] overflow-y-auto border border-gray-200 rounded-lg">

// Блок отчёта
<div ref={reportBlockRef} className="mt-4 max-h-[800px] overflow-y-auto border border-gray-200 rounded-lg">
```

#### 5. Добавлен padding для внутреннего содержимого
```typescript
<div className="p-4">
  {/* Содержимое блока */}
</div>
```

## Как это работает

1. **Пользователь нажимает кнопку** (например, "Посмотреть JWT")
2. **Устанавливается activeSection** = 'jwt'
3. **Рендерится блок результатов** с ref={jwtBlockRef}
4. **Срабатывает useEffect**, который:
   - Ждёт 100ms для завершения рендеринга
   - Вызывает `scrollIntoView({ behavior: 'smooth', block: 'end' })`
5. **Страница плавно прокручивается** так, чтобы нижний край блока был у нижнего края экрана
6. **Если блок больше 800px**, внутри блока появляется полоса прокрутки

## Применение изменений

```bash
# Пересобрать фронтенд
docker compose build bionicpro-frontend

# Перезапустить фронтенд
docker compose up -d bionicpro-frontend
```

## Проверка

1. Откройте http://localhost:3000
2. Войдите в систему
3. Нажмите "Посмотреть JWT" - страница должна прокрутиться к блоку JWT
4. Нажмите "Отчёт (default)" - страница должна прокрутиться к блоку отчёта
5. Нажмите "Отчёт (debezium)" - страница должна прокрутиться к блоку отчёта

## Совместимость

- ✅ Работает во всех современных браузерах
- ✅ Не влияет на существующую функциональность
- ✅ Не требует изменений в бэкенде
- ✅ Совместимо с существующими тестами

## CSS классы Tailwind

- `max-h-[800px]` - максимальная высота 800 пикселей
- `overflow-y-auto` - вертикальная полоса прокрутки при необходимости
- `border border-gray-200` - серая рамка
- `rounded-lg` - скруглённые углы
- `p-4` - внутренний отступ 1rem (16px)

## Примечания

- Прокрутка выполняется только при изменении `activeSection`, `jwtResponse` или `reportResponse`
- Если блок меньше 800px, полоса прокрутки не появляется
- Прокрутка не выполняется, если блок уже виден на экране
- Используется `block: 'end'` для выравнивания по нижнему краю
